<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>üî• When and Where America Burns: Exploring U.S. Wildfires (2000‚Äì2025)</title>
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
<style>
:root{
  /* Light theme color system --------------------- */
  --bg:#fafbfc;             
  --panel:#ffffff;          
  --text:#1e2430;        
  --muted:#6c7a89;      
  --stroke:#d8dce1;         
  --accent:#ff7a18;           
  --accent-soft:#ff7a1830;   
}

body{
  margin:0;
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
}


header{
  padding:20px 32px;
  border-bottom:1px solid var(--stroke);
  background:linear-gradient(180deg,#ffffff,#f4f5f7);
  box-shadow:0 3px 10px rgba(0,0,0,0.05);
}
h1{
  margin:0;
  font-size:38px;
  font-weight:700;
  letter-spacing:0.3px;
}
.sub{
  color:var(--muted);
  font-size:15px;
  margin-top:6px;
}

#playBtn {
  padding: 10px 20px;      /* bigger button */
  font-size: 18px;         /* slightly larger text */
  border-radius: 10px;     /* smoother corners */
  font-weight: 600;        /* bold-ish */
  display: inline-flex;
  align-items: center;     /* vertically center icon */
  gap: 6px;                /* spacing between icon + text (if you add text later) */
}

.note {
  font-size: 15px;
  color: var(--muted);
  margin-left: 10px;
  opacity: 0.85;
}

.controls-bar{
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  gap:22px;
  padding:14px 28px;
  background:#ffffff;
  border-bottom:1px solid var(--stroke);
}
.controls-bar label{
  font-size:17px;
  color:var(--muted);
}

.controls-bar select,
.controls-bar input[type="range"]{
  background:#ffffff;
  color:var(--text);
  border:1px solid #c6ccd4;
  border-radius:8px;
  padding:6px 10px;
  font-size:17px;
  transition:0.15s;
}
.controls-bar select:focus,
.controls-bar input[type="range"]:focus{
  outline:none;
  border-color:var(--accent);
  box-shadow:0 0 6px var(--accent-soft);
}

/* Day/Night toggle ----------------------------- */
.toggle-group{
  display:flex;
  gap:6px;
}
.toggle-group button{
  padding:6px 12px;
  font-size:17px;
  border-radius:8px;
  border:1px solid #ccd2d8;
  background:#ffffff;
  color:var(--text);
  cursor:pointer;
  transition:0.15s;
}
.toggle-group button:hover{
  border-color:var(--accent);
}
.toggle-group button.active{
  border-color:var(--accent);
  background:#fff4eb;
}


.main{
  display:grid;
  grid-template-columns:1fr 420px;
  gap:20px;
  padding:24px;
}

.panel{
  background:var(--panel);
  border:1px solid var(--stroke);
  border-radius:16px;
  padding:18px;
  box-shadow:
    0 4px 14px rgba(0,0,0,.05),
    inset 0 0 0 1px rgba(255,255,255,0.5);
}
.panel h2{
  margin:0 0 12px 0;
  font-size:20px;
  font-weight:600;
}


.svg-wrap{
  background:#ffffff;
  border:1px solid var(--stroke);
  border-radius:16px;
  overflow:hidden;
  position:relative;
  box-shadow:0 6px 14px rgba(0,0,0,.07);
}

svg{
  width:100%;
  height:600px;
}

/* Tooltip -------------------------------------- */
.tooltip{
  position:fixed;
  pointer-events:none;
  background:#ffffff;
  border:1px solid #cfd5dd;
  padding:10px 14px;
  border-radius:12px;
  font-size:14px;
  color:#1a202c;
  box-shadow:0 8px 24px rgba(0,0,0,.12);
  display:none;
  z-index:10;
  max-width:320px;
}
.tooltip .h{
  font-weight:700;
  margin-bottom:6px;
  font-size:15px;
}

/* Legend ---------------------------------------- */
.legend{
  position:absolute;
  right:20px;
  bottom:20px;
  background:rgba(255,255,255,0.9);
  padding:8px 14px;
  border-radius:12px;
  border:1px solid #d6dbe2;
  display:flex;
  align-items:center;
  gap:10px;
  font-size:16px;
  color:var(--muted);
  backdrop-filter:blur(8px);
  box-shadow:0 4px 12px rgba(0,0,0,.15);
}
.legend .bar{
  height:12px;
  width:140px;
  border-radius:6px;
  border:1px solid #d6dbe2;
}
.legend-note {
  font-size: 12px;
  color: var(--muted);
  margin-bottom: 4px;
}

.frp-footnote {
  margin-top: 6px;
  font-size: 13px;
  color: var(--muted);
  background: rgba(255,255,255,0.85);
  border: 1px solid var(--stroke);
  padding: 8px 12px;
  border-radius: 10px;
  width: fit-content;
  max-width: 300px;
  backdrop-filter: blur(6px);
}
.frp-footnote strong {
  color: var(--text);
  font-weight: 600;
}

/* Detail Chart ---------------------------------- */
#detailChart{
  width:100%;
  height:260px;
  background:#ffffff;
  border-radius:12px;
  border:1px solid var(--stroke);
}

/* Writeup ---------------------------------- */
.writeup {
  margin: 40px auto 80px;
  max-width: 900px;
  padding: 0 24px 40px;
  color: var(--text);
  line-height: 1.6;
}

.writeup h2 {
  margin-top: 32px;
  font-size: 24px;
  font-weight: 700;
  color: var(--text);
}

.writeup p {
  margin-top: 12px;
  color: var(--muted);
  font-size: 16px;
}

</style>
</head>

<body>
<header>
  <h1>Where America Burns: Visualizing Wildfires across the United States</h1>
  <div class="sub">Interactive map of U.S. wildfires with seasonal and intensity patterns (2000‚Äì2025)</div>
</header>

<!-- üîπ Top Controls Bar -->
<div class="controls-bar">
  
  <label for="year">Year: <span id="yearLabel"></span></label>
  <select id="year"></select>

  <label for="month">Month:</label>
  <input id="month" type="range" min="1" max="12" step="1" value="7"/>
  <span id="monthLabel">Jul</span>

  <label>Day / Night:</label>
  <div class="toggle-group" id="dnGroup">
    <button data-dn="A" class="active">All</button>
    <button data-dn="D">Day</button>
    <button data-dn="N">Night</button>
  </div>

  <label for="metric">Metric:</label>
  <select id="metric">
    <option value="count">Detections</option>
    <option value="avg_brightness">Avg Brightness</option>
    <option value="median_frp">Median FRP</option>
  </select>

  <button id="playBtn" class="chip">‚ñ∂Ô∏é Play</button>
  <span id="playNote" class="note">Click Play to animate month-to-month changes</span>

</div>

<!-- üîπ Main content: left map, right detail -->
<div class="main">
  <section class="panel">
    <h2>Map</h2>
    <div class="svg-wrap">
        <svg id="map" role="img" aria-label="US wildfire heat map"></svg>
        <div class="legend">
            <!-- <span id="legendMin">low</span>
            <div class="bar" id="legendBar"></div>
            <span id="legendMax">high</span> -->
            <div id="frpNote" class="legend-note" style="display:none;">
            FRP = Fire Radiative Power (fire intensity)
          </div>

          <span id="legendMin">low</span>
          <div class="bar" id="legendBar"></div>
          <span id="legendMax">high</span>
          </div>
      </div>
  </section>

  <aside class="panel" id="detailPanel">
    <h2 id="detailTitle">State Detail</h2>
    <svg id="detailChart"></svg>
    <p class="sub" style="font: size 15px; text-align:center;">
      Click a state on the map to see monthly wildfire counts over time.
    </p>
  </aside>
</div>

<div class="tooltip" id="tooltip"></div>

<section class="writeup">
  <h2>Rationale for Design Decisions</h2>
  <p>We selected a choropleth map because the central question of this project is ‚ÄúWhere in the U.S. are wildfires most active, and how does this change over time?‚Äù A choropleth directly encodes wildfire intensity at the state level, making geographic patterns immediately recognizable. Before finalizing this choice, we explored several alternatives, including point-level scatter maps (plotting individual fire detections), heatmaps using latitude‚Äìlongitude grids, and state-based bar charts. However, these designs introduced challenges. Scatter maps became visually noisy due to heavy point overlap, heatmaps blurred state-level boundaries and made comparisons difficult, and bar charts removed geographic context altogether. Compared to these options, the choropleth strikes the best balance between clarity, spatial insight, and interpretability. When combined with interactive filters for month, year, and day/night modes, it keeps the focus on spatial dynamics while clearly conveying quantitative differences across states.</p>
  <p>For visual encoding, we applied a Yellow‚ÄìOrange‚ÄìRed (YlOrRd) sequential color palette, which intuitively conveys fire intensity and aligns with established hazard visualization conventions. We tested Cividis and Turbo, but found YlOrRd offered clearer interpretability for general audiences. </p>
  <p>To support exploration of spatial and temporal patterns, we incorporated several interactive components. A year dropdown and month slider reveal temporal trends over multiple fire seasons, while day/night toggles and a metric selector allow users to filter the data by satellite mode and different state-level summaries. Hover tooltips present detailed statistics without cluttering the map, and zoom/pan enable close inspection of specific regions. We also added a Play/Pause animation that automatically cycles through months, making seasonal wildfire patterns immediately visible. Finally, we placed all controls at the top to maximize available map space, and positioned the color legend in the bottom-right to avoid covering states and to follow common cartographic conventions.
</p>

  <h2>Overview of the Development Process</h2>
  <p>Our team divided the work across several core components of the visualization. One member focused on data preparation using Python, cleaning the raw wildfire detections and aggregating them into monthly state-level metrics. Another member concentrated on the map construction and D3 implementation, including loading GeoJSON boundaries, fitting the Albers USA projection, and rendering the interactive choropleth. In parallel, we developed the UI and interaction layer‚Äîsuch as the year dropdown, month slider, day/night toggle, and metric selector‚Äîwhile also designing the tooltip and color legend to ensure clear, on-demand detail without overwhelming the interface. We additionally implemented the Play/Pause animation to support temporal exploration, and another member refined the styling, layout, and overall visual theme to create a cohesive and accessible user experience.</p>
<p>Throughout development, each team member independently explored potential features to enhance the visualization, alternative encodings, new metrics, or interaction modes, and we shared our findings and discussed which features best complemented the heatmap. Finally, all members contributed to testing, debugging, and documentation, ensuring the final product was both functional and visually consistent.</p>
<p>In total, development took about 25‚Äì30 people-hours. Approximately 5 hours were spent on data preparation, 6 hours on D3 mapping and interaction logic, 4 hours on styling and layout, 3 hours debugging projection and resize issues, 2 hours on tooltips and legend formatting, 2 hours on animation features, and 2‚Äì3 hours on polishing documentation and usability.</p>
<p>The most time-consuming challenge was debugging map projection and responsive resizing, which required fine-tuning to maintain alignment across different screen sizes. We also spent effort ensuring all interface controls updated consistently through a single update() function to simplify maintenance. Additionally, we used quantile color scaling to balance detection counts between large and small states, preventing visual dominance by California and Alaska. The animation feature proved especially valuable, revealing seasonal wildfire trends and enhancing the overall interpretability of the visualization.</p>
</section>

<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="app.js"></script>
</body>
</html>