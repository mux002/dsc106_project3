<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>üî• When and Where America Burns: Exploring U.S. Wildfires (2000‚Äì2025)</title>
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
<style>
:root {
  --bg:#fafbfc;
  --panel:#ffffff;
  --text:#1e2430;
  --muted:#6c7a89;
  --stroke:#d8dce1;
  --accent:#ff7a18;
  --accent-soft:#ff7a1830;
}
body {
  margin:0;
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
}
header {
  padding:20px 32px;
  border-bottom:1px solid var(--stroke);
  background:linear-gradient(180deg,#ffffff,#f4f5f7);
  box-shadow:0 3px 10px rgba(0,0,0,0.05);
}
h1 {
  margin:0;
  font-size:38px;
  font-weight:700;
  letter-spacing:0.3px;
}
.sub {
  color:var(--muted);
  font-size:15px;
  margin-top:6px;
}

/* Control bar */
.controls-bar {
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  gap:22px;
  padding:14px 28px;
  background:#fff;
  border-bottom:1px solid var(--stroke);
}
.controls-bar label {
  font-size:17px;
  color:var(--muted);
}
.controls-bar select,
.controls-bar input[type="range"] {
  background:#ffffff;
  color:var(--text);
  border:1px solid #c6ccd4;
  border-radius:8px;
  padding:6px 10px;
  font-size:17px;
  transition:0.15s;
}
.controls-bar select:focus,
.controls-bar input[type="range"]:focus {
  outline:none;
  border-color:var(--accent);
  box-shadow:0 0 6px var(--accent-soft);
}
.toggle-group { display:flex; gap:6px; }
.toggle-group button {
  padding:6px 12px;
  font-size:17px;
  border-radius:8px;
  border:1px solid #ccd2d8;
  background:#ffffff;
  color:var(--text);
  cursor:pointer;
  transition:0.15s;
}
.toggle-group button:hover { border-color:var(--accent); }
.toggle-group button.active {
  border-color:var(--accent);
  background:#fff4eb;
}
#playBtn {
  padding:8px 18px;
  font-size:17px;
  border-radius:10px;
  background:var(--accent);
  color:#fff;
  font-weight:600;
  border:none;
  cursor:pointer;
}
#playBtn:hover { opacity:0.9; }

/* Layout */
.main {
  display:grid;
  grid-template-columns:1fr 420px;
  gap:20px;
  padding:24px;
}
.panel {
  background:var(--panel);
  border:1px solid var(--stroke);
  border-radius:16px;
  padding:18px;
  box-shadow:0 4px 14px rgba(0,0,0,.05);
}
.svg-wrap {
  background:#fff;
  border:1px solid var(--stroke);
  border-radius:16px;
  overflow:hidden;
  position:relative;
  box-shadow:0 6px 14px rgba(0,0,0,.07);
}
svg {
  width:100%;
  height:600px;
}

/* Tooltip */
.tooltip {
  position:fixed;
  pointer-events:none;
  background:#fff;
  border:1px solid #cfd5dd;
  padding:10px 14px;
  border-radius:12px;
  font-size:14px;
  color:#1a202c;
  box-shadow:0 8px 24px rgba(0,0,0,.12);
  display:none;
  z-index:10;
  max-width:320px;
}
.tooltip .h {
  font-weight:700;
  margin-bottom:6px;
  font-size:15px;
}

/* Legend */
.legend {
  position:absolute;
  right:20px;
  bottom:20px;
  background:rgba(255,255,255,0.9);
  padding:8px 14px;
  border-radius:12px;
  border:1px solid var(--stroke);
  display:flex;
  align-items:center;
  gap:10px;
  font-size:16px;
  color:var(--muted);
  backdrop-filter:blur(8px);
  box-shadow:0 4px 12px rgba(0,0,0,.15);
}
.legend .bar {
  height:12px;
  width:140px;
  border-radius:6px;
  border:1px solid #d6dbe2;
}
.legend-note {
  font-size:12px;
  color:var(--muted);
  margin-bottom:4px;
}



/* Detail Chart */
#detailChart {
  width:100%;
  height:260px;
  background:#fff;
  border-radius:12px;
  border:1px solid var(--stroke);
}

.seasonal-wave {
  background: var(--panel);
  padding: 12px 16px;
  border-radius: 12px;
  border: 1px solid var(--stroke);
  margin-top: 20px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.seasonal-wave h3 {
  margin: 0 0 10px 0;
  font-size: 14px;
  font-weight: 600;
  color: var(--text);
}

#seasonalChart { 
  width: 100%; 
  height: 120px; 
}

/* Writeup */
.writeup {
  margin:40px auto 80px;
  max-width:900px;
  padding:0 24px 40px;
  color:var(--text);
  line-height:1.6;
}
.writeup h2 {
  margin-top:32px;
  font-size:24px;
  font-weight:700;
  color:var(--text);
}
.writeup p {
  margin-top:12px;
  color:var(--muted);
  font-size:16px;
}
</style>
</head>

<body>
<header>
  <h1>Where America Burns: Visualizing Wildfires across the United States</h1>
  <div class="sub">Interactive map of U.S. wildfires with seasonal and intensity patterns (2000‚Äì2025)</div>
</header>

<div class="controls-bar">
  <label for="year">Year: <span id="yearLabel"></span></label>
  <select id="year"></select>
  <label for="month">Month:</label>
  <input id="month" type="range" min="1" max="12" step="1" value="7"/>
  <span id="monthLabel">Jul</span>
  <label>Day/Night:</label>
  <div class="toggle-group" id="dnGroup">
    <button data-dn="A" class="active">All</button>
    <button data-dn="D">Day</button>
    <button data-dn="N">Night</button>
  </div>
  <label for="metric">Metric:</label>
  <select id="metric">
    <option value="count">Detections</option>
    <option value="avg_brightness">Avg Brightness</option>
    <option value="median_frp">Median FRP</option>
  </select>
  <button id="playBtn">‚ñ∂ Play</button>
</div>

<div class="main">
  <section class="panel">
    <h2>Map</h2>
    <div class="svg-wrap">
      <svg id="map" width="960" height="600" role="img" aria-label="US wildfire heat map"></svg>
      <div class="legend">
        <div id="frpNote" class="legend-note" style="display:none;">FRP = Fire Radiative Power</div>
        <span id="legendMin">low</span>
        <div class="bar" id="legendBar"></div>
        <span id="legendMax">high</span>
      </div>
    </div>
  </section>

  <aside class="panel" id="detailPanel">
    <h2 id="detailTitle">State Detail</h2>
    <svg id="detailChart"></svg>
    <p class="sub" style="text-align:center;">Click a state to see monthly wildfire counts.</p>
    
    <div class="seasonal-wave" style="margin-top: 20px; position: relative; left: 0; right: 0; bottom: 0;">
      <h3>Wildfire Seasonality Wave (2000‚Äì2025)</h3>
      <svg id="seasonalChart"></svg>
      <div style="display:flex;justify-content:space-between;font-size:12px;margin-top:8px;color:var(--muted);">
        <span>Winter</span><span>Spring</span><span>Summer</span><span>Fall</span>
      </div>
    </div>
  </aside>
</div>

<div class="tooltip" id="tooltip"></div>

<section class="writeup">
  <h2>Wildfire season isn‚Äôt a moment: it‚Äôs a wave that builds, peaks, and recedes.
  </h2>
  <p>Many people picture wildfires as short, shocking events that explode in late summer and then quickly fade, and that picture makes sense if most of what you see comes from a few dramatic news stories or social media posts. Our visualization tells a different story. When we add up MODIS fire detections from 2000‚Äì2025 and cycle through the months, the pattern becomes impossible to miss. Fire actively rises slowly from the quiet winter months, climbs through spring, and then surges from June into a clear peak in August before easing off again in the fall. On the choropleth map, this looks like a gradual spread of deeper reds across western states as the year moves forward. In the linked monthly bar chart, August stands far above January, February, and December.But what is most striking is how early the wave begins to build: by March and April, detections are already several times higher than in winter, meaning that for many places, ‚Äúfire season‚Äù has effectively started long before the most destructive events make the news. Instead of a sharp on‚Äìoff switch, the data shows a long, smooth rise and fall, a full wildfire year, not just a handful of bad days.
  </p>
  <p>This wave-shaped pattern matters because it changes how we think about living with fire. People in fire-prone areas are not suddenly thrown into danger on a single hot day in August; they move through months of steadily increasing riskThat slow buildup affects when smoke appears, when fire crews are stretched, and when daily routines begin to shift. In our prototype, this progression becomes immediately visible: as the month slider moves forward, the choropleth deepens gradually across the West, and the linked bar chart rises long before the dramatic late-summer peak. Together, these views show that planning for wildfires cannot be limited to emergency response during peak weeks‚Äîit has to start early in the year, when the curve is already rising but attention is still low. By turning millions of satellite detections into a clear, animated seasonal wave that people can recognize at a glance, the project highlights a key lesson: wildfire is not a random surprise; it is a recurring part of the annual cycle that shapes how communities prepare, breathe, and make decisions long before the biggest flames appear.</p>
  <div style="display: flex; gap: 20px; margin: 20px 0;">
    <img src="https://github.com/mux002/dsc106_project3/blob/main/image1.jpg?raw=true" alt="Seasonality example" style="width:48%; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.1);">
    <img src="https://github.com/mux002/dsc106_project3/blob/main/image2.jpg?raw=true" alt="Regional contrast" style="width:48%; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.1);">
  </div>
  <p>Each region has its own fire wave, but for our main story we focus on the contrast between the West and East, which you can see in the simplified two-line chart. The West follows the familiar pattern of a single late-summer fire wave, mainly driven by long, dry summers and sustained heat that allow fires to build and peak around August. In contrast the East experiences a more complex, two-part wave with elevated activity in both spring and late fall. The early-spring bump‚Äîvisible as soon as the animation reaches March‚Äîcomes from fast-drying leaf litter and shifting humidity, while the fall spike aligns with debris buildup and cooler, windy conditions. These seasonal windows create multiple opportunities for fire activity, and when viewers scrub through the timeline or toggle state-level detail, the differences stand out immediately. This contrast shows that, even though every region has a seasonal rhythm, the timing and shape of that wave can look very different across the country.
  </p>
</section>


<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="app.js"></script>
</body>
</html>