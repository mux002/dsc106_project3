<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>ðŸ”¥ When and Where America Burns: Exploring U.S. Wildfires (2000â€“2025)</title>
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
<style>
:root{
  --bg:#0b0e11;--panel:#151a21;--text:#e9eef5;--muted:#9fb0c3;
  --accent:#ff7a18;--stroke:#2a3340;
}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif;
  background:var(--bg);color:var(--text);
}
header{
  padding:14px 24px;
  border-bottom:1px solid var(--stroke);
  background:linear-gradient(180deg,#0d1218,#0a0e12);
}
h1{margin:0;font-size:20px}
.sub{color:var(--muted);font-size:13px;margin-top:4px}

.controls-bar{
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  gap:18px;
  padding:10px 20px;
  background:var(--panel);
  border-bottom:1px solid var(--stroke);
}
.controls-bar label{font-size:12px;color:var(--muted);margin-right:4px}
.controls-bar select,
.controls-bar input[type="range"]{
  background:#10151b;
  color:var(--text);
  border:1px solid var(--stroke);
  border-radius:8px;
  padding:4px 8px;
}
.toggle-group{display:flex;gap:6px}
.toggle-group button{
  padding:6px 10px;border-radius:8px;
  border:1px solid var(--stroke);background:#10151b;
  color:var(--text);cursor:pointer;
}
.toggle-group button.active{border-color:var(--accent);background:#20140a}


.main{
  display:grid;
  grid-template-columns:1fr 420px;
  gap:16px;
  padding:16px 20px;
}
.panel{
  background:var(--panel);
  border:1px solid var(--stroke);
  border-radius:14px;
  padding:14px;
}
.svg-wrap{
  background:#0c1016;
  border:1px solid var(--stroke);
  position: relative;
  border-radius:14px;
  overflow:hidden;
}
svg{width:100%;height:600px}
.tooltip{
  position:fixed;
  pointer-events:none;
  background:#0d1117;
  border:1px solid #2a3340;
  padding:10px 12px;
  border-radius:10px;
  font-size:12px;
  color:#dfe7f1;
  box-shadow:0 6px 20px rgba(0,0,0,.35);
  display:none;
  z-index:10;
  max-width:320px;
}
.tooltip .h{font-weight:700;margin-bottom:6px}
#detailChart{width:100%;height:260px}
.legend {
  position: absolute;
  right: 24px;
  bottom: 20px;
  background: rgba(20, 24, 30, 0.85);
  padding: 6px 10px;
  border-radius: 8px;
  border: 1px solid var(--stroke);
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 11px;
  color: var(--muted);
}

.legend .bar {
  height: 8px;
  width: 120px;
  border-radius: 4px;
  border: 1px solid var(--stroke);
}
</style>
</head>

<body>
<header>
  <h1>ðŸ”¥ When and Where America Burns</h1>
  <div class="sub">Interactive map of U.S. wildfires with seasonal and intensity patterns (2000â€“2025)</div>
</header>

<!-- ðŸ”¹ Top Controls Bar -->
<div class="controls-bar">
  
  <label for="year">Year: <span id="yearLabel"></span></label>
  <select id="year"></select>

  <label for="month">Month:</label>
  <input id="month" type="range" min="1" max="12" step="1" value="7"/>
  <span id="monthLabel">Jul</span>

  <label>Day / Night:</label>
  <div class="toggle-group" id="dnGroup">
    <button data-dn="A" class="active">All</button>
    <button data-dn="D">Day</button>
    <button data-dn="N">Night</button>
  </div>

  <label for="metric">Metric:</label>
  <select id="metric">
    <option value="count">Detections</option>
    <option value="avg_brightness">Avg Brightness</option>
    <option value="median_frp">Median FRP</option>
  </select>

</div>

<!-- ðŸ”¹ Main content: left map, right detail -->
<div class="main">
  <section class="panel">
    <h2>Map</h2>
    <div class="svg-wrap">
        <svg id="map" role="img" aria-label="US wildfire heat map"></svg>
        <div class="legend">
            <span id="legendMin">low</span>
            <div class="bar" id="legendBar"></div>
            <span id="legendMax">high</span>
          </div>
      </div>
  </section>

  <aside class="panel" id="detailPanel">
    <h2 id="detailTitle">State Detail</h2>
    <svg id="detailChart"></svg>
    <p class="sub" style="font-size:11px">Click a state on the map to see monthly wildfire counts over time.</p>
  </aside>
</div>

<div class="tooltip" id="tooltip"></div>

<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="app.js"></script>
</body>
</html>